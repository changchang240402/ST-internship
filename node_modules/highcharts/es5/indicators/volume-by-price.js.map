{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highstock JS v11.2.0 (2023-10-30)\n *\n * Indicator series type for Highcharts Stock\n *\n * (c) 2010-2021 Paweł Dalek\n *\n * License: www.highcharts.com/license\n */\n(function (factory) {\n    if (typeof module === 'object' && module.exports) {\n        factory['default'] = factory;\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define('highcharts/indicators/volume-by-price', ['highcharts', 'highcharts/modules/stock'], function (Highcharts) {\n            factory(Highcharts);\n            factory.Highcharts = Highcharts;\n            return factory;\n        });\n    } else {\n        factory(typeof Highcharts !== 'undefined' ? Highcharts : undefined);\n    }\n}(function (Highcharts) {\n    'use strict';\n    var _modules = Highcharts ? Highcharts._modules : {};\n    function _registerModule(obj, path, args, fn) {\n        if (!obj.hasOwnProperty(path)) {\n            obj[path] = fn.apply(null, args);\n\n            if (typeof CustomEvent === 'function') {\n                window.dispatchEvent(new CustomEvent(\n                    'HighchartsModuleLoaded',\n                    { detail: { path: path, module: obj[path] } }\n                ));\n            }\n        }\n    }\n    _registerModule(_modules, 'Stock/Indicators/VBP/VBPPoint.js', [_modules['Core/Series/SeriesRegistry.js']], function (SeriesRegistry) {\n        /* *\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        /* *\n         *\n         *  Imports\n         *\n         * */\n        var SMAPoint = SeriesRegistry.seriesTypes.sma.prototype.pointClass;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var VBPPoint = /** @class */ (function (_super) {\n            __extends(VBPPoint, _super);\n            function VBPPoint() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            // Required for destroying negative part of volume\n            VBPPoint.prototype.destroy = function () {\n                // @todo: this.negativeGraphic doesn't seem to be used anywhere\n                if (this.negativeGraphic) {\n                    this.negativeGraphic = this.negativeGraphic.destroy();\n                }\n                _super.prototype.destroy.apply(this, arguments);\n            };\n            return VBPPoint;\n        }(SMAPoint));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return VBPPoint;\n    });\n    _registerModule(_modules, 'Stock/Indicators/VBP/VBPIndicator.js', [_modules['Stock/Indicators/VBP/VBPPoint.js'], _modules['Core/Animation/AnimationUtilities.js'], _modules['Core/Globals.js'], _modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js'], _modules['Core/Chart/StockChart.js']], function (VBPPoint, A, H, SeriesRegistry, U, StockChart) {\n        /* *\n         *\n         *  (c) 2010-2021 Paweł Dalek\n         *\n         *  Volume By Price (VBP) indicator for Highcharts Stock\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var animObject = A.animObject;\n        var noop = H.noop;\n        var _a = SeriesRegistry.seriesTypes, columnProto = _a.column.prototype, SMAIndicator = _a.sma;\n        var addEvent = U.addEvent, arrayMax = U.arrayMax, arrayMin = U.arrayMin, correctFloat = U.correctFloat, defined = U.defined, error = U.error, extend = U.extend, isArray = U.isArray, merge = U.merge;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var abs = Math.abs;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        // Utils\n        /**\n         * @private\n         */\n        function arrayExtremesOHLC(data) {\n            var dataLength = data.length;\n            var min = data[0][3], max = min, i = 1, currentPoint;\n            for (; i < dataLength; i++) {\n                currentPoint = data[i][3];\n                if (currentPoint < min) {\n                    min = currentPoint;\n                }\n                if (currentPoint > max) {\n                    max = currentPoint;\n                }\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * The Volume By Price (VBP) series type.\n         *\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.vbp\n         *\n         * @augments Highcharts.Series\n         */\n        var VBPIndicator = /** @class */ (function (_super) {\n            __extends(VBPIndicator, _super);\n            function VBPIndicator() {\n                /* *\n                 *\n                 *  Static Properties\n                 *\n                 * */\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.data = void 0;\n                _this.negWidths = void 0;\n                _this.options = void 0;\n                _this.points = void 0;\n                _this.posWidths = void 0;\n                _this.priceZones = void 0;\n                _this.rangeStep = void 0;\n                _this.volumeDataArray = void 0;\n                _this.zoneStarts = void 0;\n                _this.zoneLinesSVG = void 0;\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            VBPIndicator.prototype.init = function (chart, options) {\n                var indicator = this;\n                // series.update() sends data that is not necessary\n                // as everything is calculated in getValues(), #17007\n                delete options.data;\n                _super.prototype.init.apply(indicator, arguments);\n                // Only after series are linked add some additional logic/properties.\n                var unbinder = addEvent(StockChart, 'afterLinkSeries', function () {\n                    // Protection for a case where the indicator is being updated,\n                    // for a brief moment the indicator is deleted.\n                    if (indicator.options) {\n                        var params = indicator.options.params, baseSeries = indicator.linkedParent, volumeSeries = chart.get(params.volumeSeriesID);\n                        indicator.addCustomEvents(baseSeries, volumeSeries);\n                    }\n                    unbinder();\n                }, {\n                    order: 1\n                });\n                return indicator;\n            };\n            // Adds events related with removing series\n            VBPIndicator.prototype.addCustomEvents = function (baseSeries, volumeSeries) {\n                var indicator = this, toEmptyIndicator = function () {\n                    indicator.chart.redraw();\n                    indicator.setData([]);\n                    indicator.zoneStarts = [];\n                    if (indicator.zoneLinesSVG) {\n                        indicator.zoneLinesSVG = indicator.zoneLinesSVG.destroy();\n                    }\n                };\n                // If base series is deleted, indicator series data is filled with\n                // an empty array\n                indicator.dataEventsToUnbind.push(addEvent(baseSeries, 'remove', function () {\n                    toEmptyIndicator();\n                }));\n                // If volume series is deleted, indicator series data is filled with\n                // an empty array\n                if (volumeSeries) {\n                    indicator.dataEventsToUnbind.push(addEvent(volumeSeries, 'remove', function () {\n                        toEmptyIndicator();\n                    }));\n                }\n                return indicator;\n            };\n            // Initial animation\n            VBPIndicator.prototype.animate = function (init) {\n                var series = this, inverted = series.chart.inverted, group = series.group, attr = {};\n                if (!init && group) {\n                    var position = inverted ? series.yAxis.top : series.xAxis.left;\n                    if (inverted) {\n                        group['forceAnimate:translateY'] = true;\n                        attr.translateY = position;\n                    }\n                    else {\n                        group['forceAnimate:translateX'] = true;\n                        attr.translateX = position;\n                    }\n                    group.animate(attr, extend(animObject(series.options.animation), {\n                        step: function (val, fx) {\n                            series.group.attr({\n                                scaleX: Math.max(0.001, fx.pos)\n                            });\n                        }\n                    }));\n                }\n            };\n            VBPIndicator.prototype.drawPoints = function () {\n                var indicator = this;\n                if (indicator.options.volumeDivision.enabled) {\n                    indicator.posNegVolume(true, true);\n                    columnProto.drawPoints.apply(indicator, arguments);\n                    indicator.posNegVolume(false, false);\n                }\n                columnProto.drawPoints.apply(indicator, arguments);\n            };\n            // Function responsible for dividing volume into positive and negative\n            VBPIndicator.prototype.posNegVolume = function (initVol, pos) {\n                var indicator = this, signOrder = pos ?\n                    ['positive', 'negative'] :\n                    ['negative', 'positive'], volumeDivision = indicator.options.volumeDivision, pointLength = indicator.points.length;\n                var posWidths = [], negWidths = [], i = 0, pointWidth, priceZone, wholeVol, point;\n                if (initVol) {\n                    indicator.posWidths = posWidths;\n                    indicator.negWidths = negWidths;\n                }\n                else {\n                    posWidths = indicator.posWidths;\n                    negWidths = indicator.negWidths;\n                }\n                for (; i < pointLength; i++) {\n                    point = indicator.points[i];\n                    point[signOrder[0] + 'Graphic'] = point.graphic;\n                    point.graphic = point[signOrder[1] + 'Graphic'];\n                    if (initVol) {\n                        pointWidth = point.shapeArgs.width;\n                        priceZone = indicator.priceZones[i];\n                        wholeVol = priceZone.wholeVolumeData;\n                        if (wholeVol) {\n                            posWidths.push(pointWidth / wholeVol * priceZone.positiveVolumeData);\n                            negWidths.push(pointWidth / wholeVol * priceZone.negativeVolumeData);\n                        }\n                        else {\n                            posWidths.push(0);\n                            negWidths.push(0);\n                        }\n                    }\n                    point.color = pos ?\n                        volumeDivision.styles.positiveColor :\n                        volumeDivision.styles.negativeColor;\n                    point.shapeArgs.width = pos ?\n                        indicator.posWidths[i] :\n                        indicator.negWidths[i];\n                    point.shapeArgs.x = pos ?\n                        point.shapeArgs.x :\n                        indicator.posWidths[i];\n                }\n            };\n            VBPIndicator.prototype.translate = function () {\n                var indicator = this, options = indicator.options, chart = indicator.chart, yAxis = indicator.yAxis, yAxisMin = yAxis.min, zoneLinesOptions = indicator.options.zoneLines, priceZones = (indicator.priceZones);\n                var yBarOffset = 0, volumeDataArray, maxVolume, primalBarWidth, barHeight, barHeightP, oldBarHeight, barWidth, pointPadding, chartPlotTop, barX, barY;\n                columnProto.translate.apply(indicator);\n                var indicatorPoints = indicator.points;\n                // Do translate operation when points exist\n                if (indicatorPoints.length) {\n                    pointPadding = options.pointPadding < 0.5 ?\n                        options.pointPadding :\n                        0.1;\n                    volumeDataArray = indicator.volumeDataArray;\n                    maxVolume = arrayMax(volumeDataArray);\n                    primalBarWidth = chart.plotWidth / 2;\n                    chartPlotTop = chart.plotTop;\n                    barHeight = abs(yAxis.toPixels(yAxisMin) -\n                        yAxis.toPixels(yAxisMin + indicator.rangeStep));\n                    oldBarHeight = abs(yAxis.toPixels(yAxisMin) -\n                        yAxis.toPixels(yAxisMin + indicator.rangeStep));\n                    if (pointPadding) {\n                        barHeightP = abs(barHeight * (1 - 2 * pointPadding));\n                        yBarOffset = abs((barHeight - barHeightP) / 2);\n                        barHeight = abs(barHeightP);\n                    }\n                    indicatorPoints.forEach(function (point, index) {\n                        barX = point.barX = point.plotX = 0;\n                        barY = point.plotY = (yAxis.toPixels(priceZones[index].start) -\n                            chartPlotTop -\n                            (yAxis.reversed ?\n                                (barHeight - oldBarHeight) :\n                                barHeight) -\n                            yBarOffset);\n                        barWidth = correctFloat(primalBarWidth *\n                            priceZones[index].wholeVolumeData / maxVolume);\n                        point.pointWidth = barWidth;\n                        point.shapeArgs = indicator.crispCol.apply(// eslint-disable-line no-useless-call\n                        indicator, [barX, barY, barWidth, barHeight]);\n                        point.volumeNeg = priceZones[index].negativeVolumeData;\n                        point.volumePos = priceZones[index].positiveVolumeData;\n                        point.volumeAll = priceZones[index].wholeVolumeData;\n                    });\n                    if (zoneLinesOptions.enabled) {\n                        indicator.drawZones(chart, yAxis, indicator.zoneStarts, zoneLinesOptions.styles);\n                    }\n                }\n            };\n            VBPIndicator.prototype.getExtremes = function () {\n                var prevCompare = this.options.compare, prevCumulative = this.options.cumulative;\n                var ret;\n                // Temporarily disable cumulative and compare while getting the extremes\n                if (this.options.compare) {\n                    this.options.compare = void 0;\n                    ret = _super.prototype.getExtremes.call(this);\n                    this.options.compare = prevCompare;\n                }\n                else if (this.options.cumulative) {\n                    this.options.cumulative = false;\n                    ret = _super.prototype.getExtremes.call(this);\n                    this.options.cumulative = prevCumulative;\n                }\n                else {\n                    ret = _super.prototype.getExtremes.call(this);\n                }\n                return ret;\n            };\n            VBPIndicator.prototype.getValues = function (series, params) {\n                var indicator = this, xValues = series.processedXData, yValues = series.processedYData, chart = indicator.chart, ranges = params.ranges, VBP = [], xData = [], yData = [], volumeSeries = chart.get(params.volumeSeriesID);\n                // Checks if base series exists\n                if (!series.chart) {\n                    error('Base series not found! In case it has been removed, add ' +\n                        'a new one.', true, chart);\n                    return;\n                }\n                // Checks if volume series exists and if it has data\n                if (!volumeSeries ||\n                    !volumeSeries.processedXData.length) {\n                    var errorMessage = volumeSeries && !volumeSeries.processedXData.length ?\n                        ' does not contain any data.' :\n                        ' not found! Check `volumeSeriesID`.';\n                    error('Series ' +\n                        params.volumeSeriesID + errorMessage, true, chart);\n                    return;\n                }\n                // Checks if series data fits the OHLC format\n                var isOHLC = isArray(yValues[0]);\n                if (isOHLC && yValues[0].length !== 4) {\n                    error('Type of ' +\n                        series.name +\n                        ' series is different than line, OHLC or candlestick.', true, chart);\n                    return;\n                }\n                // Price zones contains all the information about the zones (index,\n                // start, end, volumes, etc.)\n                var priceZones = indicator.priceZones = indicator.specifyZones(isOHLC, xValues, yValues, ranges, volumeSeries);\n                priceZones.forEach(function (zone, index) {\n                    VBP.push([zone.x, zone.end]);\n                    xData.push(VBP[index][0]);\n                    yData.push(VBP[index][1]);\n                });\n                return {\n                    values: VBP,\n                    xData: xData,\n                    yData: yData\n                };\n            };\n            // Specifing where each zone should start ans end\n            VBPIndicator.prototype.specifyZones = function (isOHLC, xValues, yValues, ranges, volumeSeries) {\n                var indicator = this, rangeExtremes = (isOHLC ? arrayExtremesOHLC(yValues) : false), zoneStarts = indicator.zoneStarts = [], priceZones = [];\n                var lowRange = rangeExtremes ?\n                    rangeExtremes.min :\n                    arrayMin(yValues), highRange = rangeExtremes ?\n                    rangeExtremes.max :\n                    arrayMax(yValues), i = 0, j = 1;\n                // If the compare mode is set on the main series, change the VBP\n                // zones to fit new extremes, #16277.\n                var mainSeries = indicator.linkedParent;\n                if (!indicator.options.compareToMain &&\n                    mainSeries.dataModify) {\n                    lowRange = mainSeries.dataModify.modifyValue(lowRange);\n                    highRange = mainSeries.dataModify.modifyValue(highRange);\n                }\n                if (!defined(lowRange) || !defined(highRange)) {\n                    if (this.points.length) {\n                        this.setData([]);\n                        this.zoneStarts = [];\n                        if (this.zoneLinesSVG) {\n                            this.zoneLinesSVG = this.zoneLinesSVG.destroy();\n                        }\n                    }\n                    return [];\n                }\n                var rangeStep = indicator.rangeStep =\n                    correctFloat(highRange - lowRange) / ranges;\n                zoneStarts.push(lowRange);\n                for (; i < ranges - 1; i++) {\n                    zoneStarts.push(correctFloat(zoneStarts[i] + rangeStep));\n                }\n                zoneStarts.push(highRange);\n                var zoneStartsLength = zoneStarts.length;\n                //    Creating zones\n                for (; j < zoneStartsLength; j++) {\n                    priceZones.push({\n                        index: j - 1,\n                        x: xValues[0],\n                        start: zoneStarts[j - 1],\n                        end: zoneStarts[j]\n                    });\n                }\n                return indicator.volumePerZone(isOHLC, priceZones, volumeSeries, xValues, yValues);\n            };\n            // Calculating sum of volume values for a specific zone\n            VBPIndicator.prototype.volumePerZone = function (isOHLC, priceZones, volumeSeries, xValues, yValues) {\n                var indicator = this, volumeXData = volumeSeries.processedXData, volumeYData = volumeSeries.processedYData, lastZoneIndex = priceZones.length - 1, baseSeriesLength = yValues.length, volumeSeriesLength = volumeYData.length;\n                var previousValue, startFlag, endFlag, value, i;\n                // Checks if each point has a corresponding volume value\n                if (abs(baseSeriesLength - volumeSeriesLength)) {\n                    // If the first point don't have volume, add 0 value at the\n                    // beggining of the volume array\n                    if (xValues[0] !== volumeXData[0]) {\n                        volumeYData.unshift(0);\n                    }\n                    // If the last point don't have volume, add 0 value at the end\n                    // of the volume array\n                    if (xValues[baseSeriesLength - 1] !==\n                        volumeXData[volumeSeriesLength - 1]) {\n                        volumeYData.push(0);\n                    }\n                }\n                indicator.volumeDataArray = [];\n                priceZones.forEach(function (zone) {\n                    zone.wholeVolumeData = 0;\n                    zone.positiveVolumeData = 0;\n                    zone.negativeVolumeData = 0;\n                    for (i = 0; i < baseSeriesLength; i++) {\n                        startFlag = false;\n                        endFlag = false;\n                        value = isOHLC ? yValues[i][3] : yValues[i];\n                        previousValue = i ?\n                            (isOHLC ?\n                                yValues[i - 1][3] :\n                                yValues[i - 1]) :\n                            value;\n                        // If the compare mode is set on the main series,\n                        // change the VBP zones to fit new extremes, #16277.\n                        var mainSeries = indicator.linkedParent;\n                        if (!indicator.options.compareToMain &&\n                            mainSeries.dataModify) {\n                            value = mainSeries.dataModify.modifyValue(value);\n                            previousValue = mainSeries.dataModify\n                                .modifyValue(previousValue);\n                        }\n                        // Checks if this is the point with the\n                        // lowest close value and if so, adds it calculations\n                        if (value <= zone.start && zone.index === 0) {\n                            startFlag = true;\n                        }\n                        // Checks if this is the point with the highest\n                        // close value and if so, adds it calculations\n                        if (value >= zone.end && zone.index === lastZoneIndex) {\n                            endFlag = true;\n                        }\n                        if ((value > zone.start || startFlag) &&\n                            (value < zone.end || endFlag)) {\n                            zone.wholeVolumeData += volumeYData[i];\n                            if (previousValue > value) {\n                                zone.negativeVolumeData += volumeYData[i];\n                            }\n                            else {\n                                zone.positiveVolumeData += volumeYData[i];\n                            }\n                        }\n                    }\n                    indicator.volumeDataArray.push(zone.wholeVolumeData);\n                });\n                return priceZones;\n            };\n            // Function responsoble for drawing additional lines indicating zones\n            VBPIndicator.prototype.drawZones = function (chart, yAxis, zonesValues, zonesStyles) {\n                var indicator = this, renderer = chart.renderer, leftLinePos = 0, rightLinePos = chart.plotWidth, verticalOffset = chart.plotTop;\n                var zoneLinesSVG = indicator.zoneLinesSVG, zoneLinesPath = [], verticalLinePos;\n                zonesValues.forEach(function (value) {\n                    verticalLinePos = yAxis.toPixels(value) - verticalOffset;\n                    zoneLinesPath = zoneLinesPath.concat(chart.renderer.crispLine([[\n                            'M',\n                            leftLinePos,\n                            verticalLinePos\n                        ], [\n                            'L',\n                            rightLinePos,\n                            verticalLinePos\n                        ]], zonesStyles.lineWidth));\n                });\n                // Create zone lines one path or update it while animating\n                if (zoneLinesSVG) {\n                    zoneLinesSVG.animate({\n                        d: zoneLinesPath\n                    });\n                }\n                else {\n                    zoneLinesSVG = indicator.zoneLinesSVG =\n                        renderer\n                            .path(zoneLinesPath)\n                            .attr({\n                            'stroke-width': zonesStyles.lineWidth,\n                            'stroke': zonesStyles.color,\n                            'dashstyle': zonesStyles.dashStyle,\n                            'zIndex': indicator.group.zIndex + 0.1\n                        })\n                            .add(indicator.group);\n                }\n            };\n            /**\n             * Volume By Price indicator.\n             *\n             * This series requires `linkedTo` option to be set.\n             *\n             * @sample stock/indicators/volume-by-price\n             *         Volume By Price indicator\n             *\n             * @extends      plotOptions.sma\n             * @since        6.0.0\n             * @product      highstock\n             * @requires     stock/indicators/indicators\n             * @requires     stock/indicators/volume-by-price\n             * @optionparent plotOptions.vbp\n             */\n            VBPIndicator.defaultOptions = merge(SMAIndicator.defaultOptions, {\n                /**\n                 * @excluding index, period\n                 */\n                params: {\n                    // Index and period are unchangeable, do not inherit (#15362)\n                    index: void 0,\n                    period: void 0,\n                    /**\n                     * The number of price zones.\n                     */\n                    ranges: 12,\n                    /**\n                     * The id of volume series which is mandatory. For example using\n                     * OHLC data, volumeSeriesID='volume' means the indicator will be\n                     * calculated using OHLC and volume values.\n                     */\n                    volumeSeriesID: 'volume'\n                },\n                /**\n                 * The styles for lines which determine price zones.\n                 */\n                zoneLines: {\n                    /**\n                     * Enable/disable zone lines.\n                     */\n                    enabled: true,\n                    /**\n                     * Specify the style of zone lines.\n                     *\n                     * @type    {Highcharts.CSSObject}\n                     * @default {\"color\": \"#0A9AC9\", \"dashStyle\": \"LongDash\", \"lineWidth\": 1}\n                     */\n                    styles: {\n                        /** @ignore-option */\n                        color: '#0A9AC9',\n                        /** @ignore-option */\n                        dashStyle: 'LongDash',\n                        /** @ignore-option */\n                        lineWidth: 1\n                    }\n                },\n                /**\n                 * The styles for bars when volume is divided into positive/negative.\n                 */\n                volumeDivision: {\n                    /**\n                     * Option to control if volume is divided.\n                     */\n                    enabled: true,\n                    styles: {\n                        /**\n                         * Color of positive volume bars.\n                         *\n                         * @type {Highcharts.ColorString}\n                         */\n                        positiveColor: 'rgba(144, 237, 125, 0.8)',\n                        /**\n                         * Color of negative volume bars.\n                         *\n                         * @type {Highcharts.ColorString}\n                         */\n                        negativeColor: 'rgba(244, 91, 91, 0.8)'\n                    }\n                },\n                // To enable series animation; must be animationLimit > pointCount\n                animationLimit: 1000,\n                enableMouseTracking: false,\n                pointPadding: 0,\n                zIndex: -1,\n                crisp: true,\n                dataGrouping: {\n                    enabled: false\n                },\n                dataLabels: {\n                    allowOverlap: true,\n                    enabled: true,\n                    format: 'P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}',\n                    padding: 0,\n                    style: {\n                        /** @internal */\n                        fontSize: '0.5em'\n                    },\n                    verticalAlign: 'top'\n                }\n            });\n            return VBPIndicator;\n        }(SMAIndicator));\n        extend(VBPIndicator.prototype, {\n            nameBase: 'Volume by Price',\n            nameComponents: ['ranges'],\n            calculateOn: {\n                chart: 'render',\n                xAxis: 'afterSetExtremes'\n            },\n            pointClass: VBPPoint,\n            markerAttribs: noop,\n            drawGraph: noop,\n            getColumnMetrics: columnProto.getColumnMetrics,\n            crispCol: columnProto.crispCol\n        });\n        SeriesRegistry.registerSeriesType('vbp', VBPIndicator);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A `Volume By Price (VBP)` series. If the [type](#series.vbp.type) option is\n         * not specified, it is inherited from [chart.type](#chart.type).\n         *\n         * @extends   series,plotOptions.vbp\n         * @since     6.0.0\n         * @product   highstock\n         * @excluding dataParser, dataURL, compare, compareBase, compareStart\n         * @requires  stock/indicators/indicators\n         * @requires  stock/indicators/volume-by-price\n         * @apioption series.vbp\n         */\n        ''; // to include the above in the js output\n\n        return VBPIndicator;\n    });\n    _registerModule(_modules, 'masters/indicators/volume-by-price.src.js', [], function () {\n\n\n    });\n}));"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","CustomEvent","window","dispatchEvent","detail","SeriesRegistry","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","call","TypeError","String","__","constructor","create","_super","VBPPoint","arguments","destroy","negativeGraphic","seriesTypes","sma","pointClass","A","H","U","StockChart","animObject","noop","_a","columnProto","column","SMAIndicator","addEvent","arrayMax","arrayMin","correctFloat","defined","error","extend","isArray","merge","abs","Math","VBPIndicator","_this","data","negWidths","options","points","posWidths","priceZones","rangeStep","volumeDataArray","zoneStarts","zoneLinesSVG","init","chart","indicator","unbinder","params","baseSeries","linkedParent","volumeSeries","get","volumeSeriesID","addCustomEvents","order","toEmptyIndicator","redraw","setData","dataEventsToUnbind","push","animate","series","inverted","group","attr","position","yAxis","top","xAxis","left","translateY","translateX","animation","step","val","fx","scaleX","max","pos","drawPoints","volumeDivision","enabled","posNegVolume","initVol","pointWidth","priceZone","wholeVol","point","signOrder","pointLength","length","i","graphic","shapeArgs","width","wholeVolumeData","positiveVolumeData","negativeVolumeData","color","styles","positiveColor","negativeColor","x","translate","maxVolume","primalBarWidth","barHeight","barHeightP","oldBarHeight","barWidth","pointPadding","chartPlotTop","barX","barY","yAxisMin","min","zoneLinesOptions","zoneLines","yBarOffset","indicatorPoints","plotWidth","plotTop","toPixels","forEach","index","plotX","plotY","start","reversed","crispCol","volumeNeg","volumePos","volumeAll","drawZones","getExtremes","ret","prevCompare","compare","prevCumulative","cumulative","getValues","xValues","processedXData","yValues","processedYData","ranges","VBP","xData","yData","errorMessage","isOHLC","name","specifyZones","zone","end","values","rangeExtremes","arrayExtremesOHLC","currentPoint","dataLength","lowRange","highRange","j","mainSeries","compareToMain","dataModify","modifyValue","zoneStartsLength","volumePerZone","previousValue","startFlag","endFlag","value","volumeXData","volumeYData","lastZoneIndex","baseSeriesLength","volumeSeriesLength","unshift","zonesValues","zonesStyles","verticalLinePos","renderer","rightLinePos","verticalOffset","zoneLinesPath","concat","crispLine","lineWidth","dashStyle","zIndex","add","defaultOptions","period","animationLimit","enableMouseTracking","crisp","dataGrouping","dataLabels","allowOverlap","format","padding","style","fontSize","verticalAlign","nameBase","nameComponents","calculateOn","markerAttribs","drawGraph","getColumnMetrics","registerSeriesType"],"mappings":"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"}