/**
 * Highcharts JS v11.2.0 (2023-10-30)
 *
 * Dependency wheel module
 *
 * (c) 2010-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */!function(e){"object"==typeof module&&module.exports?(e.default=e,module.exports=e):"function"==typeof define&&define.amd?define("highcharts/modules/dependency-wheel",["highcharts","highcharts/modules/sankey"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";var t=e?e._modules:{};function n(e,t,n,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}n(t,"Series/DependencyWheel/DependencyWheelPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=e.seriesTypes.sankey.prototype.pointClass,i=t.pInt,a=t.wrap;return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.angle=void 0,t.fromNode=void 0,t.index=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.shapeArgs=void 0,t.toNode=void 0,t}return o(t,e),t.prototype.getDataLabelPath=function(e){var t,n=this,o=n.series.chart.renderer,r=n.shapeArgs,s=n.angle<0||n.angle>Math.PI,c=r.start||0,d=r.end||0;return n.dataLabelPath?(n.dataLabelPath=n.dataLabelPath.destroy(),delete n.dataLabelPath):a(e,"destroy",function(e){return n.dataLabelPath&&(n.dataLabelPath=n.dataLabelPath.destroy()),e.call(this)}),n.dataLabelPath=o.arc({open:!0,longArc:Math.abs(Math.abs(c)-Math.abs(d))<Math.PI?0:1}).attr({x:r.x,y:r.y,r:(r.r||0)+i((null===(t=e.options)||void 0===t?void 0:t.distance)||0),start:s?c:d,end:s?d:c,clockwise:+s}).add(o.defs),n.dataLabelPath},t.prototype.isValid=function(){return!0},t}(r)}),n(t,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}}),n(t,"Series/DependencyWheel/DependencyWheelSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/DependencyWheel/DependencyWheelPoint.js"],t["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],t["Core/Globals.js"],t["Series/Sankey/SankeyColumnComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,n,o,r,i,a){var s,c=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=e.animObject,p=o.deg2rad,l=i.seriesTypes,u=l.pie,h=l.sankey,f=a.extend,y=a.merge,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.nodeColumns=void 0,t.nodes=void 0,t.points=void 0,t}return c(t,e),t.prototype.animate=function(e){if(!e){for(var t=d(this.options.animation).duration/2/this.nodes.length,n=0,o=function(e){var o=e.graphic;o&&(o.attr({opacity:0}),setTimeout(function(){e.graphic&&e.graphic.animate({opacity:1},{duration:t})},t*n++))},r=0,i=this.nodes;r<i.length;r++){var a=i[r];o(a)}for(var s=0,c=this.points;s<c.length;s++){var a=c[s],p=a.graphic;!a.isNode&&p&&p.attr({opacity:0}).animate({opacity:1},this.options.animation)}}},t.prototype.createNode=function(t){var n=e.prototype.createNode.call(this,t);return n.getSum=function(){return n.linksFrom.concat(n.linksTo).reduce(function(e,t){return e+t.weight},0)},n.offset=function(e){var t,o=function(e){return e.fromNode===n?e.toNode:e.fromNode},r=0,i=n.linksFrom.concat(n.linksTo);i.sort(function(e,t){return o(e).index-o(t).index});for(var a=0;a<i.length;a++)if(o(i[a]).index>n.index){i=i.slice(0,a).reverse().concat(i.slice(a).reverse()),t=!0;break}t||i.reverse();for(var a=0;a<i.length;a++){if(i[a]===e)return r;r+=i[a].weight}},n},t.prototype.createNodeColumns=function(){for(var e=[r.compose([],this)],t=0,n=this.nodes;t<n.length;t++){var o=n[t];o.column=0,e[0].push(o)}return e},t.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI},t.prototype.translate=function(){var t=this.options,n=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),o=this.getCenter(),r=(t.startAngle-90)*p,i=t.borderRadius,a="object"==typeof i?i.radius:i;e.prototype.translate.call(this);for(var s=0,c=this.nodeColumns[0];s<c.length;s++)!function(e){if(e.sum){var i=e.shapeArgs,s=o[0],c=o[1],d=o[2]/2,p=d-t.nodeWidth,l=r+n*(i.y||0),u=r+n*((i.y||0)+(i.height||0));e.angle=l+(u-l)/2,e.shapeType="arc",e.shapeArgs={x:s,y:c,r:d,innerR:p,start:l,end:u,borderRadius:a},e.dlBox={x:s+Math.cos((l+u)/2)*(d+p)/2,y:c+Math.sin((l+u)/2)*(d+p)/2,width:1,height:1};for(var h=function(e){if(e.linkBase){var o,i,a=e.linkBase.map(function(a,d){var l=n*a,u=Math.cos(r+l)*(p+1),h=Math.sin(r+l)*(p+1);return o=t.curveFactor||0,(i=Math.abs(e.linkBase[3-d]*n-l))>Math.PI&&(i=2*Math.PI-i),(i*=p)<p&&(o*=i/p),{x:s+u,y:c+h,cpX:s+(1-o)*u,cpY:c+(1-o)*h}});e.shapeArgs={d:[["M",a[0].x,a[0].y],["A",p,p,0,0,1,a[1].x,a[1].y],["C",a[1].cpX,a[1].cpY,a[2].cpX,a[2].cpY,a[2].x,a[2].y],["A",p,p,0,0,1,a[3].x,a[3].y],["C",a[3].cpX,a[3].cpY,a[0].cpX,a[0].cpY,a[0].x,a[0].y]]}}},f=0,y=e.linksFrom;f<y.length;f++)h(y[f])}}(c[s])},t.defaultOptions=y(h.defaultOptions,n),t}(h);return f(g.prototype,{orderNodes:!1,getCenter:u.prototype.getCenter}),g.prototype.pointClass=t,i.registerSeriesType("dependencywheel",g),g}),n(t,"masters/modules/dependency-wheel.src.js",[],function(){})});//# sourceMappingURL=dependency-wheel.js.map