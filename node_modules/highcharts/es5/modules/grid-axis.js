/**
 * Highcharts Gantt JS v11.2.0 (2023-10-30)
 *
 * GridAxis
 *
 * (c) 2016-2021 Lars A. V. Cabrera
 *
 * License: www.highcharts.com/license
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var i=t?t._modules:{};function e(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}e(i,"Core/Axis/GridAxis.js",[i["Core/Axis/Axis.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(t,i,e){var s,r,n=i.dateFormats,o=e.addEvent,a=e.defined,h=e.erase,d=e.find,l=e.isArray,c=e.isNumber,u=e.merge,f=e.pick,g=e.timeUnits,p=e.wrap;(s=r||(r={}))[s.top=0]="top",s[s.right=1]="right",s[s.bottom=2]="bottom",s[s.left=3]="left";var m=[];function x(t){return e.isObject(t,!0)}function k(t,i){var e={width:0,height:0};if(i.forEach(function(i){var s,r=t[i],n=0,o=0;x(r)&&(n=(s=x(r.label)?r.label:{}).getBBox?s.getBBox().height:0,s.textStr&&!c(s.textPxLength)&&(s.textPxLength=s.getBBox().width),o=c(s.textPxLength)?Math.round(s.textPxLength):0,s.textStr&&(o=Math.round(s.getBBox().width)),e.height=Math.max(n,e.height),e.width=Math.max(o,e.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){var s=this.treeGrid.mapOfPosToGridNode[-1].height||0;e.width+=this.options.labels.indentation*(s-1)}return e}function v(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function b(t){if(!0===(this.options.grid||{}).enabled){var i=this.axisTitle,e=this.height,s=this.horiz,n=this.left,o=this.offset,a=this.opposite,h=this.options,d=this.top,l=this.width,c=this.tickSize(),u=i&&i.getBBox().width,g=h.title.x,p=h.title.y,m=f(h.title.margin,s?5:10),x=i?this.chart.renderer.fontMetrics(i).f:0,k=(s?d+e:n)+(s?1:-1)*(a?-1:1)*(c?c[0]/2:0)+(this.side===r.bottom?x:0);t.titlePosition.x=s?n-(u||0)/2-m+g:k+(a?l:0)+o+g,t.titlePosition.y=s?k-(a?e:0)+(a?x:-x)/2+o+p:d-m+p}}function P(){var i,e=this.chart,s=this.options.grid,r=void 0===s?{}:s,n=this.userOptions;if(r.enabled&&((i=this.options).labels.align=f(i.labels.align,"center"),this.categories||(i.showLastLabel=!1),this.labelRotation=0,i.labels.rotation=0,i.minTickInterval=1),r.columns)for(var o=this.grid.columns=[],a=this.grid.columnIndex=0;++a<r.columns.length;){var d=u(n,r.columns[r.columns.length-a-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete d.grid.columns;var l=new t(this.chart,d,"yAxis");l.grid.isColumn=!0,l.grid.columnIndex=a,h(e.axes,l),h(e[this.coll]||[],l),o.push(l)}}function y(){var t=this.grid,i=this.options;if(!0===(i.grid||{}).enabled){var e=this.min||0,s=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var n=i.lineWidth;if(n){var o=this.getLinePath(n),a=o[0],h=o[1],d=((this.tickSize("tick")||[1])[0]-1)*(this.side===r.top||this.side===r.left?-1:1);if("M"===a[0]&&"L"===h[0]&&(this.horiz?(a[2]+=d,h[2]+=d):(a[1]+=d,h[1]+=d)),!this.horiz&&this.chart.marginRight){var l=["L",this.left,a[2]||0],c=[a,l],u=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(s+this.tickmarkOffset)],f=[["M",h[1]||0,this.toPixels(s+this.tickmarkOffset)],u];this.grid.upperBorder||e%1==0||(this.grid.upperBorder=this.grid.renderBorder(c)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.upperBorder.animate({d:c})),this.grid.lowerBorder||s%1==0||(this.grid.lowerBorder=this.grid.renderBorder(f)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.lowerBorder.animate({d:f}))}this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.axisLineExtra.animate({d:o})):this.grid.axisLineExtra=this.grid.renderBorder(o),this.axisLine[this.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach(function(t){return t.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){for(var g=this.tickmarkOffset,p=this.tickPositions[this.tickPositions.length-1],m=this.tickPositions[0],x=void 0,k=void 0;(x=this.hiddenLabels.pop())&&x.element;)x.show();for(;(k=this.hiddenMarks.pop())&&k.element;)k.show();(x=this.ticks[m].label)&&(e-m>g?this.hiddenLabels.push(x.hide()):x.show()),(x=this.ticks[p].label)&&(p-s>g?this.hiddenLabels.push(x.hide()):x.show());var v=this.ticks[p].mark;v&&p-s<g&&p-s>0&&this.ticks[p].isLast&&this.hiddenMarks.push(v.hide())}}}function w(){var t=this.tickPositions&&this.tickPositions.info,i=this.options,e=i.grid||{},s=this.userOptions.labels||{};e.enabled&&(this.horiz?(this.series.forEach(function(t){t.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!a(s.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||t.count>1)&&(i.labels.align="left",a(s.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function L(t){var i,e=this.options,s=t.userOptions,r=e&&x(e.grid)?e.grid:{};!0===r.enabled&&(i=u(!0,{className:"highcharts-grid-axis "+(s.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},s),"xAxis"===this.coll&&(a(s.linkedTo)&&!a(s.tickPixelInterval)&&(i.tickPixelInterval=350),!a(s.tickPixelInterval)&&a(s.linkedTo)&&!a(s.tickPositioner)&&!a(s.tickInterval)&&(i.tickPositioner=function(t,e){var s=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(s){for(var r=i.units||[],n=void 0,o=1,a="year",h=0;h<r.length;h++){var d=r[h];if(d&&d[0]===s.unitName){n=h;break}}var l=c(n)&&r[n+1];if(l){a=l[0]||"year";var u=l[1];o=u&&u[0]||1}else"year"===s.unitName&&(o=10*s.count);var f=g[a];return this.tickInterval=f*o,this.chart.time.getTimeTicks({unitRange:f,count:o,unitName:a},t,e,this.options.startOfWeek)}})),u(!0,this.options,i),this.horiz&&(e.minPadding=f(s.minPadding,0),e.maxPadding=f(s.maxPadding,0)),c(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=r.borderWidth))}function B(t){var i=t.userOptions,e=i&&i.grid||{},s=e.columns;e.enabled&&s&&u(!0,this.options,s[s.length-1])}function O(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function M(t){var i=this.horiz,e=this.maxLabelDimensions,s=this.options.grid,r=void 0===s?{}:s;if(r.enabled&&e){var n=2*this.options.labels.distance,o=i?r.cellHeight||n+e.height:n+e.width;l(t.tickSize)?t.tickSize[0]=o:t.tickSize=[o,0]}}function S(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function T(t){var i=this.grid;(i.columns||[]).forEach(function(i){return i.destroy(t.keepEvents)}),i.columns=void 0}function A(t){var i=t.userOptions||{},e=i.grid||{};e.enabled&&a(e.borderColor)&&(i.tickColor=i.lineColor=e.borderColor),this.grid||(this.grid=new I(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function C(t){var i=this.label,e=this.axis,s=e.reversed,n=e.chart,o=e.options.grid||{},a=e.options.labels,h=a.align,d=r[e.side],l=t.tickmarkOffset,u=e.tickPositions,f=this.pos-l,g=c(u[t.index+1])?u[t.index+1]-l:(e.max||0)+l,p=e.tickSize("tick"),m=p?p[0]:0,x=p?p[1]/2:0;if(!0===o.enabled){var k,v=void 0,b=void 0,P=void 0;if("top"===d?k=(v=e.top+e.offset)-m:"bottom"===d?v=(k=n.chartHeight-e.bottom+e.offset)+m:(v=e.top+e.len-(e.translate(s?g:f)||0),k=e.top+e.len-(e.translate(s?f:g)||0)),"right"===d?P=(b=n.chartWidth-e.right+e.offset)+m:"left"===d?b=(P=e.left+e.offset)-m:(b=Math.round(e.left+(e.translate(s?g:f)||0))-x,P=Math.min(Math.round(e.left+(e.translate(s?f:g)||0))-x,e.left+e.len)),this.slotWidth=P-b,t.pos.x="left"===h?b:"right"===h?P:b+(P-b)/2,t.pos.y=k+(v-k)/2,i){var y=n.renderer.fontMetrics(i),w=i.getBBox().height;if(a.useHTML)t.pos.y+=y.b+-(w/2);else{var L=Math.round(w/y.h);t.pos.y+=(y.b-(y.h-y.f))/2+-((L-1)*y.h/2)}}t.pos.x+=e.horiz&&a.x||0}}function E(t){var e=t.axis,s=t.value;if(e.options.grid&&e.options.grid.enabled){var r=e.tickPositions,n=(e.linkedParent||e).series[0],o=s===r[0],a=s===r[r.length-1],h=n&&d(n.options.data,function(t){return t[e.isXAxis?"x":"y"]===s}),l=void 0;h&&n.is("gantt")&&(l=u(h),i.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(l)),t.isFirst=o,t.isLast=a,t.point=l}}function W(){var t=this.options,i=t.grid||{},e=this.categories,s=this.tickPositions,r=s[0],n=s[s.length-1],o=this.linkedParent&&this.linkedParent.min,a=this.linkedParent&&this.linkedParent.max,h=o||this.min,d=a||this.max,l=this.tickInterval;!0===i.enabled&&!e&&(this.horiz||this.isLinked)&&(r<h&&r+l>h&&!t.startOnTick&&(s[0]=h),n>d&&n-l<d&&!t.endOnTick&&(s[s.length-1]=d))}function z(t){var i,e=this.options.grid;return!0===(void 0===e?{}:e).enabled&&this.categories?this.tickInterval:t.apply(this,(i=arguments,Array.prototype.slice.call(i,1)))}var I=function(){function t(t){this.axis=t}return t.prototype.isOuterAxis=function(){var t=this.axis,i=t.chart,e=t.grid.columnIndex,s=t.linkedParent&&t.linkedParent.grid.columns||t.grid.columns,r=e?t.linkedParent:t,n=-1,o=0;return(i[t.coll]||[]).forEach(function(i,e){i.side!==t.side||i.options.isInternal||(o=e,i!==r||(n=e))}),o===n&&(!c(e)||s.length===e)},t.prototype.renderBorder=function(t){var i=this.axis,e=i.chart.renderer,s=i.options,r=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder);return e.styledMode||r.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),r},t}();return n.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},n.W=function(t){var i=this,e=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)});var s=(this.get("Day",e)+6)%7,r=new this.Date(e.valueOf());this.set("Date",r,this.get("Date",e)-s+3);var n=new this.Date(this.get("FullYear",r),0,1);return 4!==this.get("Day",n)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",n))%7)),(1+Math.floor((r.valueOf()-n.valueOf())/6048e5)).toString()},{compose:function(t,i,s){return e.pushUnique(m,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=k,p(t.prototype,"unsquish",z),o(t,"init",A),o(t,"afterGetOffset",v),o(t,"afterGetTitlePosition",b),o(t,"afterInit",P),o(t,"afterRender",y),o(t,"afterSetAxisTranslation",w),o(t,"afterSetOptions",L),o(t,"afterSetOptions",B),o(t,"afterSetScale",O),o(t,"afterTickSize",M),o(t,"trimTicks",W),o(t,"destroy",T)),e.pushUnique(m,i)&&o(i,"afterSetChartSize",S),e.pushUnique(m,s)&&(o(s,"afterGetLabelPosition",C),o(s,"labelFormat",E)),t}}}),e(i,"masters/modules/grid-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});//# sourceMappingURL=grid-axis.js.map