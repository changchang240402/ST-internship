/**
 * Highcharts JS v11.2.0 (2023-10-30)
 *
 * Client side exporting module
 *
 * (c) 2015-2021 Torstein Honsi / Oystein Moseng
 *
 * License: www.highcharts.com/license
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function n(t,e,n,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}n(e,"Extensions/DownloadURL.js",[e["Core/Globals.js"]],function(t){var e=t.isSafari,n=t.win,o=t.win.document,i=n.URL||n.webkitURL||n;function r(t){var e=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(e&&e.length>3&&n.atob&&n.ArrayBuffer&&n.Uint8Array&&n.Blob&&i.createObjectURL){for(var o=n.atob(e[3]),r=new n.ArrayBuffer(o.length),a=new n.Uint8Array(r),l=0;l<a.length;++l)a[l]=o.charCodeAt(l);return i.createObjectURL(new n.Blob([a],{type:e[1]}))}}return{dataURLtoBlob:r,downloadURL:function(t,i){var a=n.navigator,l=o.createElement("a");if("string"!=typeof t&&!(t instanceof String)&&a.msSaveOrOpenBlob){a.msSaveOrOpenBlob(t,i);return}t=""+t;var s=/Edge\/\d+/.test(a.userAgent);if((e&&"string"==typeof t&&0===t.indexOf("data:application/pdf")||s||t.length>2e6)&&!(t=r(t)||""))throw Error("Failed to convert to blob");if(void 0!==l.download)l.href=t,l.download=i,o.body.appendChild(l),l.click(),o.body.removeChild(l);else try{if(!n.open(t,"chart"))throw Error("Failed to open window")}catch(e){n.location.href=t}}}}),n(e,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.2.0/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),n(e,"Extensions/OfflineExporting/OfflineExporting.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Extensions/DownloadURL.js"],e["Extensions/Exporting/Exporting.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/OfflineExporting/OfflineExportingDefaults.js"],e["Core/Utilities.js"]],function(t,e,n,o,i,r,a,l,s){var c,f=n.defaultOptions,d=o.downloadURL,u=r.win,h=r.doc,g=a.ajax,p=s.addEvent,m=s.error,v=s.extend,y=s.fireEvent,x=s.merge;t.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),t.allowedTags.push("desc","clippath","g");var w=[];return function(e){function n(t,n){var o=this,a=x(o.options.exporting,t),l=function(t){!1===a.fallbackToExportServer?a.error?a.error(a,t):m(28,!0):o.exportChart(a)};if(r.isMS&&o.styledMode&&!i.inlineAllowlist.length&&i.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),r.isMS&&("application/pdf"===a.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==a.type)||"application/pdf"===a.type&&[].some.call(o.container.getElementsByTagName("image"),function(t){var e=t.getAttribute("href");return""!==e&&"string"==typeof e&&0!==e.indexOf("data:")})){l(Error("Image type not supported for this chart/browser."));return}o.getSVGForLocalExport(a,n||{},l,function(t){t.indexOf("<foreignObject")>-1&&"image/svg+xml"!==a.type&&(r.isMS||"application/pdf"===a.type)?l(Error("Image type not supported for charts with embedded HTML")):e.downloadSVGLocal(t,v({filename:o.getFilename()},a),l,function(){return y(o,"exportChartLocalSuccess")})})}function o(t,e){var n=h.getElementsByTagName("head")[0],o=h.createElement("script");o.type="text/javascript",o.src=t,o.onload=e,o.onerror=function(){m("Error loading script "+t)},n.appendChild(o)}function a(t,n,o,i){var r,a,l,s,c=this,f=function(t){return c.sanitizeSVG(t,l)},d=function(){s&&m===g&&i(f(a.innerHTML))},u=function(t,e,n){++m,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),d()},h=null,g=0,m=0;c.unbindGetSVG=p(c,"getSVG",function(t){l=t.chartCopy.options,g=(s=(a=t.chartCopy.container.cloneNode(!0))&&a.getElementsByTagName("image")||[]).length}),c.getSVGForExport(t,n);try{if(!s||!s.length){i(f(a.innerHTML));return}for(var v=0;v<s.length;v++)(h=(r=s[v]).getAttributeNS("http://www.w3.org/1999/xlink","href"))?e.imageToDataUrl(h,"image/png",{imageElement:r},t.scale,u,o,o,o):(m++,r.parentNode.removeChild(r),v--,d())}catch(t){o(t)}c.unbindGetSVG()}function c(t,n,o,i,r,a,l,s,c){var f,d=new u.Image,g=function(){setTimeout(function(){var e,a=h.createElement("canvas"),s=a.getContext&&a.getContext("2d");try{if(s){a.height=d.height*i,a.width=d.width*i,s.drawImage(d,0,0,a.width,a.height);try{e=a.toDataURL(n),r(e,n,o,i)}catch(e){f(t,n,o,i)}}else l(t,n,o,i)}finally{c&&c(t,n,o,i)}},e.loadEventDeferDelay)},p=function(){s(t,n,o,i),c&&c(t,n,o,i)};f=function(){d=new u.Image,f=a,d.crossOrigin="Anonymous",d.onload=g,d.onerror=p,d.src=t},d.onload=g,d.onerror=p,d.src=t}function b(t){var n=u.navigator.userAgent,o=n.indexOf("WebKit")>-1&&0>n.indexOf("Chrome");try{if(!o&&-1===t.indexOf("<foreignObject"))return e.domurl.createObjectURL(new u.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function E(t,e,n,o){var i=(Number(t.getAttribute("width"))+2*e)*n,r=(Number(t.getAttribute("height"))+2*e)*n,a=new u.jspdf.jsPDF(r>i?"p":"l","pt",[i,r]);[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)});for(var l=t.querySelectorAll("linearGradient"),s=0;s<l.length;s++)for(var c=l[s].querySelectorAll("stop"),f=0;f<c.length&&"0"===c[f].getAttribute("offset")&&"0"===c[f+1].getAttribute("offset");)c[f].remove(),f++;[].forEach.call(t.querySelectorAll("tspan"),function(t){"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),a.svg(t,{x:0,y:0,width:i,height:r,removeInvalid:!0}).then(function(){return o(a.output("datauristring"))})}e.CanVGRenderer={},e.domurl=u.URL||u.webkitURL||u,e.loadEventDeferDelay=r.isMS?150:0,e.compose=function(t){if(s.pushUnique(w,t)){var e=t.prototype;e.getSVGForLocalExport=a,e.exportChartLocal=n,x(!0,f.exporting,l)}return t},e.downloadSVGLocal=function(n,i,r,a){var l,s,p,m=h.createElement("div"),v=i.type||"image/png",y=(i.filename||"chart")+"."+("image/svg+xml"===v?"svg":v.split("/")[1]),x=i.scale||1,w=i.libURL||f.exporting.libURL,C=!0,L=i.pdfFont;w="/"!==w.slice(-1)?w+"/":w;var S=function(t,e){var n,o,i=function(t,e){u.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])};L&&(o=t.textContent||"",!/[^\u0000-\u007F\u200B]+/.test(o))&&(L=void 0);var r=["normal","italic","bold","bolditalic"],a=function(){var t=r.shift();if(!t)return e();var o=L&&L[t];o?g({url:o,responseType:"blob",success:function(e,o){var r=new FileReader;r.onloadend=function(){if("string"==typeof this.result){var e=this.result.split(",")[1];i(t,e),"normal"===t&&(n=e)}a()},r.readAsDataURL(o.response)},error:a}):(n&&i(t,n),a())};a()},j=function(){t.setElementHTML(m,n);var e,o,i=m.getElementsByTagName("text"),l=function(t,e){for(var n=t;n&&n!==m;){if(n.style[e]){var o=n.style[e];"fontSize"===e&&/em$/.test(o)&&(o=Math.round(16*parseFloat(o))+"px"),t.style[e]=o;break}n=n.parentNode}};[].forEach.call(i,function(t){for(["fontFamily","fontSize"].forEach(function(e){l(t,e)}),t.style.fontFamily=L&&L.normal?"HighchartsFont":String(t.style.fontFamily&&t.style.fontFamily.split(" ").splice(-1)),e=t.getElementsByTagName("title"),[].forEach.call(e,function(e){t.removeChild(e)}),o=t.getElementsByClassName("highcharts-text-outline");o.length>0;)t.removeChild(o[0])});var s=m.querySelector("svg");s&&S(s,function(){E(s,0,x,function(t){try{d(t,y),a&&a()}catch(t){r(t)}})})};if("image/svg+xml"===v)try{void 0!==u.MSBlobBuilder?((s=new u.MSBlobBuilder).append(n),l=s.getBlob("image/svg+xml")):l=b(n),d(l,y),a&&a()}catch(t){r(t)}else"application/pdf"===v?u.jspdf&&u.jspdf.jsPDF?j():(C=!0,o(w+"jspdf.js",function(){o(w+"svg2pdf.js",j)})):(l=b(n),p=function(){try{e.domurl.revokeObjectURL(l)}catch(t){}},c(l,v,{},x,function(t){try{d(t,y),a&&a()}catch(t){r(t)}},function(){var t=h.createElement("canvas"),e=t.getContext("2d"),i=n.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*x,l=n.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*x,s=function(){u.canvg.Canvg.fromString(e,n).start();try{d(u.navigator.msSaveOrOpenBlob?t.msToBlob():t.toDataURL(v),y),a&&a()}catch(t){r(t)}finally{p()}};t.width=i,t.height=l,u.canvg?s():(C=!0,o(w+"canvg.js",function(){s()}))},r,r,function(){C&&p()}))},e.getScript=o,e.imageToDataUrl=c,e.svgToDataUrl=b,e.svgToPdf=E}(c||(c={})),c}),n(e,"masters/modules/offline-exporting.src.js",[e["Core/Globals.js"],e["Extensions/DownloadURL.js"],e["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e,n){t.dataURLtoBlob=e.dataURLtoBlob,t.downloadSVGLocal=n.downloadSVGLocal,t.downloadURL=e.downloadURL,n.compose(t.Chart)})});//# sourceMappingURL=offline-exporting.js.map