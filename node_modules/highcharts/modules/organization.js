/**
 * Highcharts JS v11.2.0 (2023-10-30)
 * Organization chart series type
 *
 * (c) 2019-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var i=t?t._modules:{};function e(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}e(i,"Series/Organization/OrganizationPoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(t,i){let{sankey:{prototype:{pointClass:e}}}=t.seriesTypes,{defined:n,find:o,pick:s}=i;return class extends e{constructor(){super(...arguments),this.fromNode=void 0,this.linksFrom=void 0,this.linksTo=void 0,this.options=void 0,this.series=void 0,this.toNode=void 0}init(){return super.init.apply(this,arguments),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link"),this}getSum(){return 1}setNodeColumn(){super.setNodeColumn();let t=this,i=t.getFromNode().fromNode;if(!n(t.options.column)&&0!==t.linksTo.length&&i&&"hanging"===i.options.layout){let e=-1,n;t.options.layout=s(t.options.layout,"hanging"),t.hangsFrom=i,o(i.linksFrom,(i,n)=>{let o=i.toNode===t;return o&&(e=n),o});for(let o=0;o<i.linksFrom.length;++o)(n=i.linksFrom[o]).toNode.id===t.id?o=i.linksFrom.length:e+=function t(i){let e=i.linksFrom.length;return i.linksFrom.forEach(i=>{i.id===i.toNode.linksTo[0].id?e+=t(i.toNode):e--}),e}(n.toNode);t.column=(t.column||0)+e}}}}),e(i,"Series/Organization/OrganizationSeriesDefaults.js",[],function(){return{borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){let t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},i={"max-height":"100%","border-radius":"50%"},e={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function n(t){return Object.keys(t).reduce(function(i,e){return i+e+":"+t[e]+";"},'style="')+'"'}let{description:o,image:s,title:r}=this.point;s&&(i["max-width"]="30%",e.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",e.position="absolute",e.left=s?"30%":0,e.top=0);let a="<div "+n(t)+">";return s&&(a+='<img src="'+s+'" '+n(i)+">"),a+="<div "+n(e)+">",this.point.name&&(a+="<h4 "+n({margin:0})+">"+this.point.name+"</h4>"),r&&(a+="<p "+n({margin:0})+">"+(r||"")+"</p>"),o&&(a+="<p "+n({opacity:.75,margin:"5px"})+">"+o+"</p>"),a+="</div></div>"},style:{fontWeight:"normal",fontSize:"0.9em"},useHTML:!0,linkTextPath:{attributes:{startOffset:"95%",textAnchor:"end"}}},hangingIndent:20,hangingIndentTranslation:"inherit",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}}),e(i,"Series/PathUtilities.js",[],function(){function t(t,i){let e=[];for(let n=0;n<t.length;n++){let o=t[n][1],s=t[n][2];if("number"==typeof o&&"number"==typeof s){if(0===n)e.push(["M",o,s]);else if(n===t.length-1)e.push(["L",o,s]);else if(i){let r=t[n-1],a=t[n+1];if(r&&a){let t=r[1],n=r[2],l=a[1],h=a[2];if("number"==typeof t&&"number"==typeof l&&"number"==typeof n&&"number"==typeof h&&t!==l&&n!==h){let r=t<l?1:-1,a=n<h?1:-1;e.push(["L",o-r*Math.min(Math.abs(o-t),i),s-a*Math.min(Math.abs(s-n),i)],["C",o,s,o,s,o+r*Math.min(Math.abs(o-l),i),s+a*Math.min(Math.abs(s-h),i)])}}}else e.push(["L",o,s])}}return e}return{applyRadius:t,getLinkPath:{default:function(i){let{x1:e,y1:n,x2:o,y2:s,width:r=0,inverted:a=!1,radius:l,parentVisible:h}=i,d=[["M",e,n],["L",e,n],["C",e,n,e,s,e,s],["L",e,s],["C",e,n,e,s,e,s],["L",e,s]];return h?t([["M",e,n],["L",e+r*(a?-.5:.5),n],["L",e+r*(a?-.5:.5),s],["L",o,s]],l):d},straight:function(t){let{x1:i,y1:e,x2:n,y2:o,width:s=0,inverted:r=!1,parentVisible:a}=t;return a?[["M",i,e],["L",i+s*(r?-1:1),o],["L",n,o]]:[["M",i,e],["L",i,o],["L",i,o]]},curved:function(t){let{x1:i,y1:e,x2:n,y2:o,offset:s=0,width:r=0,inverted:a=!1,parentVisible:l}=t;return l?[["M",i,e],["C",i+s,e,i-s+r*(a?-1:1),o,i+r*(a?-1:1),o],["L",n,o]]:[["M",i,e],["C",i,e,i,o,i,o],["L",n,o]]}}}}),e(i,"Series/Organization/OrganizationSeries.js",[i["Series/Organization/OrganizationPoint.js"],i["Series/Organization/OrganizationSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Series/PathUtilities.js"],i["Core/Utilities.js"]],function(t,i,e,n,o){let{sankey:s}=e.seriesTypes,{css:r,extend:a,isNumber:l,merge:h,pick:d}=o;class p extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}alignDataLabel(t,i,e){let n=t.shapeArgs;if(e.useHTML&&n){let t=this.options.borderWidth+2*this.options.dataLabels.padding,e=n.width||0,o=n.height||0;this.chart.inverted&&(e=o,o=n.width||0),o-=t,e-=t;let s=i.text;s&&(r(s.element.parentNode,{width:e+"px",height:o+"px"}),r(s.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),i.getBBox=()=>({width:e,height:o,x:0,y:0}),i.width=e,i.height=o}super.alignDataLabel.apply(this,arguments)}createNode(t){let i=super.createNode.call(this,t);return i.getSum=()=>1,i}pointAttribs(t,i){let e=s.prototype.pointAttribs.call(this,t,i),n=t.isNode?t.level:t.fromNode.level,o=this.mapOptionsToLevel[n||0]||{},r=t.options,a=o.states&&o.states[i]||{},h=d(a.borderRadius,r.borderRadius,o.borderRadius,this.options.borderRadius),p=d(a.linkColor,r.linkColor,o.linkColor,this.options.linkColor,a.link&&a.link.color,r.link&&r.link.color,o.link&&o.link.color,this.options.link&&this.options.link.color),g=d(a.linkLineWidth,r.linkLineWidth,o.linkLineWidth,this.options.linkLineWidth,a.link&&a.link.lineWidth,r.link&&r.link.lineWidth,o.link&&o.link.lineWidth,this.options.link&&this.options.link.lineWidth),u=d(a.linkOpacity,r.linkOpacity,o.linkOpacity,this.options.linkOpacity,a.link&&a.link.linkOpacity,r.link&&r.link.linkOpacity,o.link&&o.link.linkOpacity,this.options.link&&this.options.link.linkOpacity);return t.isNode?l(h)&&(e.r=h):(e.stroke=p,e["stroke-width"]=g,e.opacity=u,delete e.fill),e}translateLink(t){let i=this.chart,e=this.options,o=t.fromNode,s=t.toNode,r=d(e.linkLineWidth,e.link.lineWidth),a=Math.round(r)%2/2,l=d(e.link.offset,.5),h=d(t.options.link&&t.options.link.type,e.link.type);if(o.shapeArgs&&s.shapeArgs){let p=e.hangingIndent,g=s.options.offset,u=/%$/.test(g)&&parseInt(g,10),f=i.inverted,c=Math.floor((o.shapeArgs.x||0)+(o.shapeArgs.width||0))+a,k=Math.floor((o.shapeArgs.y||0)+(o.shapeArgs.height||0)/2)+a,m=Math.floor(s.shapeArgs.x||0)+a,y=Math.floor((s.shapeArgs.y||0)+(s.shapeArgs.height||0)/2)+a,L;if(f&&(c-=o.shapeArgs.width||0,m+=s.shapeArgs.width||0),L=this.colDistance?Math.floor(m+(f?1:-1)*(this.colDistance-this.nodeWidth)/2)+a:Math.floor((m+c)/2)+a,u&&(u>=50||u<=-50)&&(L=m=Math.floor(m+(f?-.5:.5)*(s.shapeArgs.width||0))+a,y=s.shapeArgs.y||0,u>0&&(y+=s.shapeArgs.height||0)),s.hangsFrom===o&&(i.inverted?(k=Math.floor((o.shapeArgs.y||0)+(o.shapeArgs.height||0)-p/2)+a,y=(s.shapeArgs.y||0)+(s.shapeArgs.height||0)):k=Math.floor((o.shapeArgs.y||0)+p/2)+a,L=m=Math.floor((s.shapeArgs.x||0)+(s.shapeArgs.width||0)/2)+a),t.plotX=L,t.plotY=(k+y)/2,t.shapeType="path","straight"===h)t.shapeArgs={d:[["M",c,k],["L",m,y]]};else if("curved"===h){let i=Math.abs(m-c)*l*(f?-1:1);t.shapeArgs={d:[["M",c,k],["C",c+i,k,m-i,y,m,y]]}}else t.shapeArgs={d:n.applyRadius([["M",c,k],["L",L,k],["L",L,y],["L",m,y]],d(e.linkRadius,e.link.radius))};t.dlBox={x:(c+m)/2,y:(k+y)/2,height:r,width:0}}}translateNode(t,i){super.translateNode(t,i);let e=this.chart,n=this.options,o=n.hangingIndent||0,s=e.inverted?-1:1,r=t.shapeArgs,a=n.hangingIndentTranslation,l=n.minNodeLength||10,h=t.hangsFrom;if(h){if("cumulative"===a)for(r.height-=o,r.y-=s*o;h;)r.y+=s*o,h=h.hangsFrom;else if("shrink"===a)for(;h&&r.height>o+l;)r.height-=o,h=h.hangsFrom;else r.height-=o,e.inverted||(r.y+=o)}t.nodeHeight=e.inverted?r.width:r.height}drawDataLabels(){let t=this.options.dataLabels;if(t.linkTextPath&&t.linkTextPath.enabled)for(let t of this.points)t.options.dataLabels=h(t.options.dataLabels,{useHTML:!1});super.drawDataLabels()}}return p.defaultOptions=h(s.defaultOptions,i),a(p.prototype,{pointClass:t}),e.registerSeriesType("organization",p),p}),e(i,"masters/modules/organization.src.js",[],function(){})});//# sourceMappingURL=organization.js.map